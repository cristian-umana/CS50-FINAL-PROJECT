BASIC STRUCTURE

The site utilizes python, flask, sql, html, jinja, css, and javascript to implement a website with which users can submit posts to a database and view posts from this database, filtering the information by tags submitted with the posts.


LAYOUT.html

LAYOUT.html hosts links to stylesheets (including bootstrap and css) and javascript as well as the navigation bar which is displayed at the top of each template. Jinja is used within the <body> tag to create a placeholder for all other html templates.


LAUNCH.html

Jinja is used to reference LAYOUT.html.
An img tag is used to insert the site’s logo.
Buttons were implemented within link tags all referencing different html templates, using with two different classes (in order to implement css styling to imply hierarchy), in order to guide the user to subsequent templates.


ABOUT.html

Jinja is used to reference LAYOUT.html.
An img tag is used to insert a diagram explaining the site’s usage.
Buttons were implemented with links to redirect users to subsequent html templates.


TELL.html
tell.html, tell_story.html, tell_advice.html

Jinja is used to reference LAYOUT.html.
A textarea was used as a text input field.
A form tag is used to allow user input.
A javascript function is referenced within the form tag, which validates the form for completion, and returns an alert if the form is not completed when the submit button is clicked.
Checkboxes were used underneath the text area in order to allow users to select multiple “tags.”
A button of type “submit” was used to submit form information, which works to update a SQL database called “POSTS.db” storing post and tag data. 


LISTEN.html
listen.html, listen_story.html, listen_advice.html

Jinja is used to reference LAYOUT.html.
<div> tags are used to reference css classes which organize a graphic visualizing posts and tags implemented within the <div> tags.
Jinja is used to loop through a dictionary called “moodgraph” created in APP.py.
For each value “i” in “moodgraph” a <div> is created by referencing and utilizing “i.tag” as the css class using jinja, thereby implementing a graphic which creates a box representing a post’s tag, creating a visual tracker for which tags have been posted.

Buttons were implemented with links to redirect users to subsequent html templates.

“Stories” and “Advice” are displayed in tables below the tag visualization and filter options.

Within listen_story.html and listen_advice.html, radio buttons were used to allow users to select a single tag which when submitted, will filter either “stories” or “advice” according to the tag chosen, displaying these stories in tables below.


APP.py

Routes are created corresponding to each html template.

“moodgraph” is defined as a variable using db.execute, calling a SQL query selecting all from the “tags” table within posts.db, limiting by 100 so that the resulting visualization is limited in size.
the dictionary “moodgraph” is then passed as “moodgraph” to the corresponding html template

/listen:
“stories” and “advice” are defined using db.execute, calling a SQL query selecting all from the “post” and “reply” tables within posts.db, ordering by time posted in “descending” order (so the most recent post displays first).

“stories” and “advice” are passed to the corresponding html template.

---

/tell_story, /tell_advice:
data submitted from tell_story.html form input “tell_story” (textarea) is stored in a variable called “story” (corresponding structure for “tell_advice”).
data submitted from tell_story.html form input “tell_tags” (checkboxes) is stored in a variable called “tags” using request.form.getlist, which returns an array housing all tags selected (corresponding structure for “tell_advice”)

data stored in “story” is inserted into the “post” table in POSTS.db using db.execute

the id of the post inserted is stored in a variable called “id” using db.execute and selecting the autogenerated post id from the “post” table, and pinpointing first value in the resulting dictionary by using the [0][“post_id”] syntax.
(corresponding structure for “tell_advice”)

for each “tag” value in the array “tags,” both a tag id and tag are inserted into the “tags” table in POSTS.db using db.execute.

Upon clicking the submit button, users are redirected to listen.html

---

/listen_story, /listen_advice:

data submitted via the form called “listen_tags” (radio buttons) is stored in a variable called “tags.”
information from both the “post” and “tags” tables in POSTS.db are called and stored in a variable called “stories” using db.execute and joining the two tables on the corresponding “post_id” column, ordering by post time (descending) and passing the value of “tags” so that the stories displayed in the corresponding table in listen_story.html are filtered by tags selected.
(corresponding structure for “listen_advice”)

“stories” is passed to the corresponding html template.


POSTS.db

“post” and “reply” tables are structured to store entries from “stories” and “advice” as well as unique id’s for each entry, and the date-time of entry. (a replayability column is also implemented for future implementation in which users are able to decide if other users are able to reply directly to their post).

“tags” is structured to store tags as well as unique ids of posts as foreign keys.


STYLES.css

Variables are used to define frequently used values using :root

---

Styles Implemented:

Drop-down menu functionality of navigation bar
Hover colors
Button color, sizing animation
Table appearance, proportion
Checkbox and Radio button stylization (“tags”)
“moodgraph” stylization
